import{d as M,r as u,u as N,c as i,a as e,b as C,e as B,F as w,f as V,w as $,v as D,n as p,t as c,g as O,P as K,h as P,i as k,j as m,o,_ as T}from"./index-raYdIcPx.js";const j={class:"draw-lots"},x={class:"tab-wrap"},z=["onClick"],A={key:0,class:"draw-lots-content"},S={class:"setting-bar"},q=["placeholder"],G={class:"option-box-wrap"},H={class:"option-box"},J={class:"option-num"},Q=["onUpdate:modelValue","placeholder"],R={key:1,class:"option-text"},W=["onClick"],X=["onClick"],Y={key:1,class:"draw-lots-content"},Z={class:"result-content"},tt={class:"result-title"},et={class:"drawing-results"},st=M({__name:"DrawLotsView",setup(ot){const v=u(1),n=u([]),a=u([]),_=u(null),r=u(""),b=u(""),h=u(!1),{t:g}=N(),I=[{id:1,name:g("user-defined")},{id:2,name:g("automatic")}];function y(){r.value&&(n.value.push(r.value),r.value="",_.value&&_.value.focus())}function L(t){t.key==="Enter"&&y()}function U(t){if(n.value[t]){if(!a.value.includes(t)){a.value.push(t);return}a.value=a.value.filter(d=>d!==t)}}function E(t){n.value.splice(t,1)}function F(){const t=n.value.length;!t||a.value.length||(b.value=n.value[Math.floor(Math.random()*t)],h.value=!0)}return(t,d)=>(o(),i(w,null,[e("div",j,[e("div",x,[(o(),i(w,null,V(I,s=>e("button",{class:p({tab:!0,active:v.value===s.id}),key:`draw-lots-tab-${s.id}`,onClick:l=>v.value=s.id},c(s.name),11,z)),64))]),v.value===1?(o(),i("div",A,[e("div",S,[$(e("input",{ref_key:"theInput",ref:_,"onUpdate:modelValue":d[0]||(d[0]=s=>r.value=s),type:"text",placeholder:t.$t("enter-options"),class:"setting-input",onKeydown:L},null,40,q),[[D,r.value]]),e("button",{class:p({"setting-btn":!0,disabled:!r.value}),onClick:y},c(t.$t("submit")),3)]),e("div",G,[(o(!0),i(w,null,V(n.value,(s,l)=>(o(),i("div",H,[e("div",J,c(l+1),1),a.value.includes(l)?$((o(),i("input",{key:0,"onUpdate:modelValue":f=>n.value[l]=f,placeholder:t.$t("enter-options"),class:"option-edit-input",type:"text"},null,8,Q)),[[D,n.value[l]]]):(o(),i("div",R,c(s),1)),e("button",{class:p({edit:!0,disabled:!s}),onClick:f=>U(l)},[a.value.includes(l)?(o(),P(k(m),{key:0,icon:s?"check":"ban"},null,8,["icon"])):(o(),P(k(m),{key:1,icon:"pencil"}))],10,W),e("button",{class:"delete",onClick:f=>E(l)},[C(k(m),{icon:"trash-can"})],8,X)]))),256))])])):B("",!0),v.value===2?(o(),i("div",Y," 這個還沒寫ฅ(๑*д*๑)ฅ ")):B("",!0),e("button",{class:p({"start-drawing-lots":!0,disabled:!n.value.length||a.value.length}),onClick:F},c(t.$t("start-drawing-lots")),3)]),C(K,{showPopBox:h.value,"onUpdate:showPopBox":d[1]||(d[1]=s=>h.value=s)},{"pop-content":O(()=>[e("div",Z,[e("div",tt,c(t.$t("drawing-results")),1),e("div",et,c(b.value),1)])]),_:1},8,["showPopBox"])],64))}}),at=T(st,[["__scopeId","data-v-6b91a4ef"]]);export{at as default};
